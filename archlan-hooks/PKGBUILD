# **************************************************************************** #
#                                                                              #
#                                                         :::      ::::::::    #
#    PKGBUILD                                           :+:      :+:    :+:    #
#                                                     +:+ +:+         +:+      #
#    By: Lanhild <archlan@protonmail.com>           +#+  +:+       +#+         #
#                                                 +#+#+#+#+#+   +#+            #
#    Created: 2022/01/08 19:09:16 by Lanhild           #+#    #+#              #
#    Updated: 2022/01/08 19:13:03 by Lanhild          ###   ########.fr        #
#                                                                              #
# **************************************************************************** #

# Maintainer: Aditya Shakya <adi1090x@gmail.com>

pkgname="archlan-hooks"
pkgver=1.0
pkgrel=2
pkgdesc='Pacman hooks for ArchLan to fix various system files'
url="https://github.com/archlan/core"
arch=('any')
license=('GPL3')

source=(
		"${pkgname}.hook"
		"${pkgname}-runner"
		'archlan-lsb-release.hook'
		'archlan-os-release.hook'
		'archlan-reboot-required.hook'
		'archlan-reboot-required'
		'archlan-hook-nm.hook'
		'archlan-hook-pixmaps.hook'
		'archlan-hook-zsh.hook'
		'archlan-hooks-misc'
)

sha512sums=('0270e8ba5816f5ad0bc7bc730c80ace0c043a858e505ed2c6375d2ca9f8dc6b1d43417d5e02078f2ce6fbbbb0ca1ac355f8cd46025fd2e7d83e5bef13d821416'
            '23aa3b77b72c7af7cc07c68a35904ecb765648dfa320481352e6644af792b98a7d03bab1a6d530b78d554ed6407d601292dfb812a4750fefd76ca6f06398e1b4'
            'f9bc386fab6464d1c97e3de47bb1a9b29ad9f45a416e58f15e1468c7e6c1ac10564ad6b3f4bba636096446d83747ef11eb32ae63254c6065ddc3ec9f2c3834c8'
            '43dc71fd6a3f5e3fea2cc3f274a97c6eca87300aaa989b85af9b03cf08321d1297fc015417c2535eab476d0441ca19e74e5d051ab22174505147494d92859cb0'
            '016891ce2a49b99f88d41bc4c3ae11090cfb3347583c3479b8e310477c04cbd43dfd986961c2cad4310f3370c3d654577f74dc21bc1be66e65b4fc7b0ffc99c1'
            '2fbe7bb452c9d279ce2b7a4d714f6e4fcb21a8dbf1e5f1a45940f49699e6f21a89fcf822c7e157e401064e3d6dbd401a96a10826a8eb3b78814fa565933fd843'
            'd4167be420c16453bc582685e027dd635a3c8c22150dd0305647138950b184d52e6f6aba649553ec013e8dd0766799542cd58d570fbbd9d971603c3cad3dcdc0'
            '743fe0541ab73cbd0d9f43b1ff1cc517d136272de4625703ff27bd4f18b01c73d43bcca90d26706a13543482f5163da120d9346a1628eae1015e1aa9e6b11138'
            'e5e415234b0a1285e3106d8ce97572d247d87ef2fd18d527d9c5530b82ae86d25d3c36afd48ab1ddc39bbc261e106ee3ae9d2e0818b699719f5f9da574e76194'
            '4af1a3aaad64f99b98f70bebf923ebe2aa0f2583973638eba08707f4a20a5e8163fbe31e4084752dc7d88c632841f8ea68e68078639cebecefd5d622105ca95c')

package() {
  local hooks=${pkgdir}/usr/share/libalpm/hooks
  local bin=${pkgdir}/usr/bin

  install -Dm644 ${pkgname}.hook           			"$hooks"/${pkgname}.hook
  install -Dm644 archlan-lsb-release.hook      	"$hooks"/archlan-lsb-release.hook
  install -Dm644 archlan-os-release.hook       	"$hooks"/archlan-os-release.hook
  install -Dm644 archlan-reboot-required.hook  	"$hooks"/archlan-reboot-required.hook
  install -Dm644 archlan-hook-nm.hook  			"$hooks"/archlan-hook-nm.hook
  install -Dm644 archlan-hook-pixmaps.hook  		"$hooks"/archlan-hook-pixmaps.hook
  install -Dm644 archlan-hook-zsh.hook  			"$hooks"/archlan-hook-zsh.hook

  install -Dm755 ${pkgname}-runner         			"$bin"/${pkgname}-runner
  install -Dm755 archlan-reboot-required       	"$bin"/archlan-reboot-required
  install -Dm755 archlan-hooks-misc       		"$bin"/archlan-hooks-misc
}
